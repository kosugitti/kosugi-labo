{
  "hash": "9c583b7e3e1319f5b8561071bdb01f39",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"データの読み込み\"\n---\n\n## CSVファイルの読み込み\n\n研究で使うデータは、多くの場合CSVファイル（カンマ区切りテキスト）で提供されます。\n\n### readrパッケージを使う\n\ntidyverseに含まれる`readr`パッケージの`read_csv()`関数を使います。\n\n```r\nlibrary(tidyverse)\n\n# CSVファイルを読み込む\ndata <- read_csv(\"data.csv\")\n```\n\n### 日本語を含むファイル\n\n日本語を含むファイルで文字化けする場合は、エンコーディングを指定します。\n\n```r\ndata <- read_csv(\"data.csv\", locale = locale(encoding = \"CP932\"))\n```\n\n## データの確認\n\n読み込んだデータを確認する方法はいくつかあります。\n\n### head() と tail()\n\n最初の数行、最後の数行を表示します。\n\n```r\nhead(data)       # 最初の6行\nhead(data, 10)   # 最初の10行\ntail(data)       # 最後の6行\n```\n\n### glimpse()\n\nデータの構造をコンパクトに表示します。\n\n```r\nglimpse(data)\n```\n\n### summary()\n\n各変数の要約統計量を表示します。\n\n```r\nsummary(data)\n```\n\n### View()\n\nRStudioでスプレッドシート形式で表示します。\n\n```r\nView(data)\n```\n\n## 練習用データ\n\nこの教材では、以下のようなデータを使って練習します。\n\n### サンプルデータの作成\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\n# サンプルデータを作成\nstudents <- tibble(\n  id = 1:10,\n  name = c(\"田中\", \"鈴木\", \"佐藤\", \"山田\", \"伊藤\",\n           \"渡辺\", \"中村\", \"小林\", \"加藤\", \"吉田\"),\n  grade = c(3, 2, 4, 3, 2, 4, 3, 2, 4, 3),\n  score = c(78, 82, 91, 65, 74, 88, 70, 95, 83, 77),\n  group = c(\"A\", \"B\", \"A\", \"B\", \"A\", \"B\", \"A\", \"B\", \"A\", \"B\")\n)\n\nstudents\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 × 5\n      id name  grade score group\n   <int> <chr> <dbl> <dbl> <chr>\n 1     1 田中      3    78 A    \n 2     2 鈴木      2    82 B    \n 3     3 佐藤      4    91 A    \n 4     4 山田      3    65 B    \n 5     5 伊藤      2    74 A    \n 6     6 渡辺      4    88 B    \n 7     7 中村      3    70 A    \n 8     8 小林      2    95 B    \n 9     9 加藤      4    83 A    \n10    10 吉田      3    77 B    \n```\n\n\n:::\n:::\n\n\n### データの確認\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# 構造を確認\nglimpse(students)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 10\nColumns: 5\n$ id    <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10\n$ name  <chr> \"田中\", \"鈴木\", \"佐藤\", \"山田\", \"伊藤\", \"渡辺\", \"中村\", \"小林\", \"加藤\", \"吉田\"…\n$ grade <dbl> 3, 2, 4, 3, 2, 4, 3, 2, 4, 3\n$ score <dbl> 78, 82, 91, 65, 74, 88, 70, 95, 83, 77\n$ group <chr> \"A\", \"B\", \"A\", \"B\", \"A\", \"B\", \"A\", \"B\", \"A\", \"B\"\n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# 要約統計量\nsummary(students)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       id            name               grade          score      \n Min.   : 1.00   Length:10          Min.   :2.00   Min.   :65.00  \n 1st Qu.: 3.25   Class :character   1st Qu.:2.25   1st Qu.:74.75  \n Median : 5.50   Mode  :character   Median :3.00   Median :80.00  \n Mean   : 5.50                      Mean   :3.00   Mean   :80.30  \n 3rd Qu.: 7.75                      3rd Qu.:3.75   3rd Qu.:86.75  \n Max.   :10.00                      Max.   :4.00   Max.   :95.00  \n    group          \n Length:10         \n Class :character  \n Mode  :character  \n                   \n                   \n                   \n```\n\n\n:::\n:::\n\n\n## データ型\n\nRには主に以下のデータ型があります：\n\n| 型 | 説明 | 例 |\n|----|------|-----|\n| numeric | 数値 | `1.5`, `100` |\n| character | 文字列 | `\"hello\"`, `\"田中\"` |\n| logical | 論理値 | `TRUE`, `FALSE` |\n| factor | カテゴリ | 順序のあるカテゴリ |\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# 型の確認\nclass(students$score)  # 数値\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"numeric\"\n```\n\n\n:::\n\n```{.r .cell-code}\nclass(students$name)   # 文字列\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"character\"\n```\n\n\n:::\n\n```{.r .cell-code}\nclass(students$grade)  # 数値\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"numeric\"\n```\n\n\n:::\n:::\n\n\n## 特定の列・行を取り出す\n\n### 列の取り出し\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# $ を使う\nstudents$score\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] 78 82 91 65 74 88 70 95 83 77\n```\n\n\n:::\n\n```{.r .cell-code}\n# [[]] を使う\nstudents[[\"score\"]]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] 78 82 91 65 74 88 70 95 83 77\n```\n\n\n:::\n:::\n\n\n### 行の取り出し\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# 1行目\nstudents[1, ]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 5\n     id name  grade score group\n  <int> <chr> <dbl> <dbl> <chr>\n1     1 田中      3    78 A    \n```\n\n\n:::\n\n```{.r .cell-code}\n# 1〜3行目\nstudents[1:3, ]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 5\n     id name  grade score group\n  <int> <chr> <dbl> <dbl> <chr>\n1     1 田中      3    78 A    \n2     2 鈴木      2    82 B    \n3     3 佐藤      4    91 A    \n```\n\n\n:::\n:::\n\n\n### 条件で絞り込む\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# スコアが80以上の行\nstudents[students$score >= 80, ]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 5\n     id name  grade score group\n  <int> <chr> <dbl> <dbl> <chr>\n1     2 鈴木      2    82 B    \n2     3 佐藤      4    91 A    \n3     6 渡辺      4    88 B    \n4     8 小林      2    95 B    \n5     9 加藤      4    83 A    \n```\n\n\n:::\n:::\n\n\n::: {.callout-note}\n次の「tidyverse入門」では、より直感的な方法でデータを操作する方法を学びます。\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}